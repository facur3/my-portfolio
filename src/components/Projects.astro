---
import GitHub from "./icons/GitHub.astro";
import Link from "./icons/Link.astro";
import JavaScript from "./icons/JavaScript.astro";
import Python from "./icons/Python.astro";
import Java from "./icons/Java.astro";
import Terminal from "./icons/Terminal.astro";

const TAGS = {
    JAVASCRIPT: {
        name: "JavaScript",
        class: "text-zinc-600 dark:text-zinc-400 border-zinc-200/50 dark:border-zinc-800",
        icon: JavaScript,
    },
    PYTHON: {
        name: "Python",
        class: "text-zinc-600 dark:text-zinc-400 border-zinc-200/50 dark:border-zinc-800",
        icon: Python,
    },
    NLP: {
        name: "NLP / AI",
        class: "text-zinc-600 dark:text-zinc-400 border-zinc-200/50 dark:border-zinc-800",
        icon: null,
    },
    GAMEDEVELOPMENT: {
        name: "Game Dev",
        class: "text-zinc-600 dark:text-zinc-400 border-zinc-200/50 dark:border-zinc-800",
        icon: null,
    },
};

const PROJECTS = [
    {
        title: "Sistema de Navegación Autónoma",
        subtitle: "Algoritmo A* & JavaFX",
        description:
            "Simulador de tráfico urbano de alta precisión. Implementa el algoritmo A* con heurística Manhattan sobre grafos ponderados dinámica para el cálculo óptimo de rutas en tiempo real.",
        icon: Java,
        color: "text-orange-500",
        glowColor: "rgba(249, 115, 22, 0.4)",
        github: "https://github.com/facur3/tpg-2c2025-recursivos",
        tags: [
            {
                name: "Java",
                class: TAGS.JAVASCRIPT.class,
                icon: Java,
            },
            {
                name: "Algorithms",
                class: TAGS.JAVASCRIPT.class,
                icon: Terminal,
            },
        ],
    },
    {
        title: "Data Scraper & Calculator",
        subtitle: "Probabilistic Engineering",
        description:
            "Pipeline de datos integral. Backend en Python con BeautifulSoup y Regex avanzadas para la extracción, normalización y procesamiento estadístico de miles de registros.",
        icon: Python,
        color: "text-blue-500",
        glowColor: "rgba(59, 130, 246, 0.4)",
        demo: "https://prospecting-calculator.vercel.app/",
        github: "https://github.com/facur3/prospecting-calculator",
        tags: [
            {
                name: "Python",
                class: TAGS.PYTHON.class,
                icon: Python,
            },
            {
                name: "Automation",
                class: TAGS.PYTHON.class,
                icon: Terminal,
            },
        ],
    },
    {
        title: "Fifteen Puzzle",
        subtitle: "Game Logic Engine",
        description:
            "Motor de juego optimizado para el clásico rompecabezas numérico. Gestión de estados compleja y animaciones a 60fps utilizando Vanilla JavaScript puro.",
        icon: JavaScript,
        color: "text-yellow-500",
        glowColor: "rgba(234, 179, 8, 0.4)",
        github: "https://github.com/facur3/Fifteen",
        demo: "https://facur3.github.io/Fifteen/",
        tags: [TAGS.JAVASCRIPT, TAGS.GAMEDEVELOPMENT],
    },
    {
        title: "Detector de Plagio NLP",
        subtitle: "Text Analysis System",
        description:
            "Sistema de análisis semántico. Utiliza TF-IDF y similitud coseno para comparar documentos y detectar coincidencias estructurales y lingüísticas con alta precisión.",
        icon: Python,
        color: "text-emerald-500",
        glowColor: "rgba(34, 197, 94, 0.4)",
        github: "https://github.com/facur3/plagios",
        tags: [TAGS.PYTHON, TAGS.NLP],
    },
];
---

<section id="projects" class="w-full max-w-7xl mx-auto px-4 py-32 flex flex-col gap-32">
    
    <div class="space-y-32">
    {
        PROJECTS.map((project, index) => (
            <article class={`group relative grid grid-cols-1 md:grid-cols-12 gap-8 md:gap-16 items-center ${index % 2 === 1 ? 'md:[&>div:first-child]:order-2' : ''}`}>
                
                <!-- Abstract Tech Card (Visual) -->
                <div class="md:col-span-7 relative perspective-1000">
                   <div class="relative aspect-[16/10] w-full rounded-3xl overflow-hidden
                                bg-zinc-100 dark:bg-[#09090b]
                                border border-zinc-200 dark:border-white/5
                                shadow-sm dark:shadow-2xl
                                transition-all duration-700 ease-out
                                hover:shadow-xl dark:hover:shadow-[0_0_50px_-12px_rgba(0,0,0,0.5)]
                                group-hover:-translate-y-2
                                group-hover:border-zinc-300 dark:group-hover:border-white/10
                                ">
                        
                        <!-- Grid Background -->
                        <div class="absolute inset-0 opacity-[0.4] pointer-events-none"
                             style="background-image: radial-gradient(circle at 1px 1px, var(--grid-color) 1px, transparent 0); background-size: 24px 24px; --grid-color: rgba(120, 120, 120, 0.1);"></div>
                        
                        <!-- Dynamic Gradient Blob -->
                        <div class="absolute -inset-[50%] opacity-0 group-hover:opacity-20 transition-opacity duration-1000 blur-3xl"
                             style={`background: radial-gradient(circle at 50% 50%, ${project.glowColor}, transparent 60%)`}></div>

                        <!-- Top Bar (Window UI) -->
                        <div class="absolute top-0 left-0 right-0 h-10 border-b border-zinc-200 dark:border-white/5 flex items-center px-4 gap-2 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-sm">
                            <div class="w-2.5 h-2.5 rounded-full bg-zinc-300 dark:bg-zinc-700"></div>
                            <div class="w-2.5 h-2.5 rounded-full bg-zinc-300 dark:bg-zinc-700"></div>
                            <div class="w-2.5 h-2.5 rounded-full bg-zinc-300 dark:bg-zinc-700"></div>
                            <div class="ml-auto text-[10px] font-mono text-zinc-400 uppercase tracking-widest">
                                {project.tags[0]?.name}
                            </div>
                        </div>

                        <!-- Center Content -->
                        <div class="absolute inset-0 flex items-center justify-center top-10">
                            <!-- Icon Wrapper -->
                            <div class="relative group/icon">
                                <!-- Glow -->
                                <div class={`absolute inset-0 bg-current opacity-0 blur-2xl group-hover/icon:opacity-20 transition-opacity duration-500 scale-150 ${project.color}`}></div>
                                
                                <div class="relative p-8 rounded-2xl bg-white dark:bg-zinc-900/80 border border-zinc-200 dark:border-white/10 shadow-xl backdrop-blur-md
                                            transform group-hover:scale-110 transition-transform duration-500 cubic-bezier(0.34, 1.56, 0.64, 1)">
                                    <project.icon class={`size-16 md:size-20 ${project.color}`} />
                                </div>
                            </div>
                        </div>

                         <!-- Code/Stats Decoration (Bottom Right) -->
                         <div class="absolute bottom-6 right-6 font-mono text-[10px] text-zinc-400 dark:text-zinc-600 text-right opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100 hidden md:block">
                            <div>CPU: {Math.floor(Math.random() * 20) + 10}%</div>
                            <div>MEM: {Math.floor(Math.random() * 100) + 50}MB</div>
                         </div>
                   </div>
                </div>

                <!-- Project Info (Text) -->
                <div class="md:col-span-5 space-y-8 relative">
                    <div class="space-y-4">
                        <div class="flex items-center gap-3">
                            <div class={`w-8 h-[1px] ${project.color.replace('text-', 'bg-')}`}></div>
                            <span class={`text-sm font-mono font-medium tracking-wider uppercase ${project.color}`}>
                                {project.subtitle}
                            </span>
                        </div>
                        
                        <h3 class="text-3xl md:text-5xl font-bold text-zinc-900 dark:text-white leading-[1.1] tracking-tight">
                            {project.title}
                        </h3>
                        
                        <p class="text-lg text-zinc-600 dark:text-zinc-400 leading-relaxed font-light">
                            {project.description}
                        </p>
                    </div>

                    <div class="flex flex-wrap gap-3">
                        {project.tags.map((tag) => (
                            <span class={`inline-flex items-center gap-2 px-3 py-1.5 text-xs rounded-full border bg-zinc-50 dark:bg-zinc-900/50 ${tag.class} transition-colors group-hover:border-zinc-300 dark:group-hover:border-zinc-700`}>
                                {tag.name}
                            </span>
                        ))}
                    </div>

                    <div class="flex gap-4 pt-2">
                         {project.github && (
                            <a href={project.github} target="_blank" rel="noopener noreferrer"
                               class="group/link inline-flex items-center gap-2 text-sm font-medium text-zinc-900 dark:text-white border-b border-zinc-900 dark:border-white pb-0.5 hover:opacity-70 transition-opacity">
                                <GitHub class="size-4" />
                                View Source
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 transition-transform group-hover/link:translate-x-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                            </a>
                        )}
                        {project.demo && (
                            <a href={project.demo} target="_blank" rel="noopener noreferrer"
                               class="group/link inline-flex items-center gap-2 text-sm font-medium text-zinc-500 dark:text-zinc-400 border-b border-transparent hover:border-zinc-500 dark:hover:border-zinc-400 pb-0.5 transition-all">
                                <Link class="size-4" />
                                Live Demo
                            </a>
                        )}
                    </div>
                </div>
            </article>
        ))
    }
    </div>
</section>
